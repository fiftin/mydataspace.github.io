<script src="/js/no-items.js"></script>

<script type="text/javascript">
  if (!isValidJWT(localStorage.getItem('authToken')) &&
    !(window.location.hash && window.location.hash !== '' && window.location.hash !== '#')) {
    document.getElementById('webix').style.display = 'none';
  }
</script>

{% if include.with_header == true %}

<div class="webix_preloaded_header invisible" id="webix_preloaded_header"></div>

<a class="logo invisible" href="/" id="logo_link">
    <img class="header__logo_img_with_text header__logo_img_with_text--admin" src="/images/logo.web20.png" />
</a>
{% else %}
<style>
  #view__page_link {
    display: none !important;
  }
  #view__counters {
    display: none !important;
  }
</style>
<script>
  webix.without_header = true;
</script>
{% endif %}

<div id="admin_panel__loading"><i class="fa fa-cog fa-spin fa-fw"></i></div>

<div id="no_items" class="no_items invisible">
  <div id="no_items__no_apps"></div>

  <div class="no_items__content" id="no_items__no_data">
    <div class="container">
      <div id="no_items__title" class="no_items__no_apps"></div>
      <!--<div class="no_items__no_apps_description">-->
      <!--Create empty root, import data from file or explore existing roots with using-->
      <!--useful search-->
      <!--</div>-->
      <div class="row">
        <div class="col-xs-4"></div>

        <!-- Create -->
        <div class="col-xs-4 no_items__column">

          <div id="no_items__template_wrap" class="no_items__template_wrap" onclick="no_items__initTemplates()">
            <div id="no_items__template" class="snippet__overview snippet__overview--no-margin">
              <img id="no_items__template_img" class="snippet__image"  />
              <div class="snippet__info">
                <div id="no_items__template_title" class="snippet__title"></div>
                <div id="no_items__template_tags" class="snippet__tags"></div>
              </div>
            </div>
            <div id="no_items__template_description" class="snippet__description"></div>
          </div>


          <div class="no_items__center no_items__center--right">
            <div class="no_items__new_root clearfix">
              <input id="no_items__new_root_input"
                     type="text"
                     class="no_items__new_root_input form-control"
                     onkeypress="no_items__new_root_input__onKeyPress(event)"
                     placeholder="{{ site.data[page.language].strings.new_root_name }}" />

              <div class="no_items__new_root_domain">.{{ site.enforce_ssl }}</div>
            </div>

            <div id="no_items__notice" class="no_items__notice"></div>
          </div>

          <button class="btn btn-success btn-lg no_items__btn no_items__btn--bottom"
                  onclick="no_items__createNewWebsite()"
                  id="no_items__create__button"></button>
        </div>
      </div>
      <script>
        (function () {
          var languageSuffix = (getCurrentLanguage() || 'EN').toLowerCase();
          if (languageSuffix === 'en') {
            languageSuffix = '';
          } else {
            languageSuffix = '-' + languageSuffix;
          }
          if (Mydataspace.isLoggedIn()) {
            no_items__selectTemplate('basic-pug' + languageSuffix);
          } else {
            Mydataspace.on('login', function () {
              no_items__selectTemplate('basic-pug' + languageSuffix);
            });
          }
        })();
      </script>
    </div>
  </div>
</div>

<div id="no_items_select_template_modal"
     class="modal"
     role="dialog"
     aria-labelledby="Select Template">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header look_modal__header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <div class="modal-title">{{ site.data[page.language].strings.select_template_title }}</div>
      </div>
      <div class="modal-body look_modal__body" id="no_items_select_template_modal_templates"></div>
      <div class="modal-footer look_modal__footer">
        <button class="btn btn-default" data-dismiss="modal">{{ site.data[page.language].strings.cancel }}</button>
      </div>
    </div>
  </div>
</div>


<div id="admin_panel" class="admin_panel invisible {% if include.with_header == false %}admin_panel--without-header{% endif %}"></div>

{% if include.with_header == true %}

{% include search.html id="webix__header__search" admin=true resultContainer="webix_search" %}
<div id="webix_search"></div>

{% endif %}